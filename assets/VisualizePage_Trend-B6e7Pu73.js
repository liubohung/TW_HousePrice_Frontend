import{Q as E}from"./dom-C_Qlgj94.js";import{d as x,Q as w}from"./QBtn-DCZUFqVc.js";import{k as T,g as C,c as z,h as f,L as S,d as j,r as g,o as V,m as B,z as F,A as q,E as L,B as e,f as i,S as Q,U as D,V as I}from"./index-BQ5zSTIb.js";import{a as P,h as A,i as $,e as N,j as O,Q as U,D as W}from"./DataImputationHelp-kOKrJWj-.js";import"./vue-export-helper-DNpkxnbb.js";const H=T({name:"QInnerLoading",props:{...A,...P,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:o}){const m=C(),n=$(t,m.proxy.$q),{transitionProps:r,transitionStyle:u}=N(t),d=z(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(n.value===!0?" q-inner-loading--dark":"")),v=z(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function p(){const b=[f(x,{size:t.size,color:t.color})];return t.label!==void 0&&b.push(f("div",{class:v.value,style:t.labelStyle},[t.label])),b}function s(){return t.showing===!0?f("div",{class:d.value,style:u.value},o.default!==void 0?o.default():p()):null}return()=>f(S,r.value,s)}}),M={class:"row items-start items-md-center justify-between q-mb-md header-wrap"},R={class:"col-12 col-md-auto q-mb-sm q-mb-md-none"},G={class:"row items-center no-wrap"},J={class:"col-12 col-md-auto row items-center q-gutter-sm btn-wrap"},ae=j({__name:"VisualizePage_Trend",setup(t){const o=g(!1),m=g(!0),n=g(!1),r=g(null);let u=null;const d=()=>s("viz1755451162005"),v=()=>{n.value=!!document.fullscreenElement,setTimeout(()=>s("viz1755451162005"),50)},p=l=>{l.key==="Escape"&&n.value&&y()};O({title:"台灣房價視覺化 | Tableau",meta:{description:{name:"description",content:"使用 Tableau 呈現台灣房價多維度視覺化。"},ogTitle:{property:"og:title",content:"台灣房價視覺化 | Tableau"}},link:{canonical:{rel:"canonical",href:"https://your-domain.example/visualize"}}});function s(l){const a=document.querySelector(`#${l} object.tableauViz`);a&&(a.removeAttribute("width"),a.removeAttribute("height"),a.style.width="100%",a.style.height="100%")}function b(l){const a=document.querySelector('script[src="https://public.tableau.com/javascripts/api/viz_v1.js"]'),c=document.getElementById(l);if(!c)return;const h=c.querySelector("object.tableauViz");if(!h)return;if(a){m.value=!1,s(l);return}const _=document.createElement("script");_.src="https://public.tableau.com/javascripts/api/viz_v1.js",_.onload=()=>{m.value=!1,s(l)},h.parentNode?.insertBefore(_,h)}async function k(){const l=r.value;if(l)try{await l.requestFullscreen(),n.value=!0,setTimeout(()=>s("viz1755451162005"),200)}catch{}}async function y(){try{document.fullscreenElement&&await document.exitFullscreen()}finally{n.value=!1,setTimeout(()=>s("viz1755451162005"),200)}}return V(()=>{b("viz1755451162005"),r.value&&(u=new ResizeObserver(()=>s("viz1755451162005")),u.observe(r.value)),window.addEventListener("orientationchange",d,{passive:!0}),document.addEventListener("fullscreenchange",v),window.addEventListener("keydown",p)}),B(()=>{u?.disconnect(),u=null,window.removeEventListener("orientationchange",d),document.removeEventListener("fullscreenchange",v),window.removeEventListener("keydown",p)}),(l,a)=>(L(),F(U,{class:"q-pa-md tech-bg"},{default:q(()=>[e("div",M,[e("div",R,[e("div",G,[i(E,{name:"insights",size:"30px",class:"neon-icon q-mr-sm"}),a[3]||(a[3]=e("div",null,[e("h1",{class:"q-mt-none q-mb-xs neon-title"},"不動產交易趨勢"),e("div",{class:"caption text-grey-5 hide-xs"},"Taiwan Real Estate • Interactive Tableau")],-1))])]),e("div",J,[i(w,{dense:"",outline:"",color:"primary",icon:"help_outline",label:"補值與清理說明",class:"btn-glass col-12 col-sm-auto",onClick:a[0]||(a[0]=c=>o.value=!0)}),i(w,{dense:"",unelevated:"",color:"primary",icon:n.value?"fullscreen_exit":"fullscreen",label:n.value?"退出全螢幕":"全螢幕檢視",class:"btn-neon col-12 col-sm-auto",onClick:a[1]||(a[1]=c=>n.value?y():k())},null,8,["icon","label"])])]),e("div",{ref_key:"vizWrap",ref:r,class:Q([["neo-card",{"is-full":n.value}],"q-pa-sm"])},[a[5]||(a[5]=e("div",{class:"neo-card__glow"},null,-1)),D(i(w,{round:"",dense:"",icon:"close",class:"fs-close",onClick:y,"aria-label":"關閉全螢幕"},null,512),[[I,n.value]]),a[6]||(a[6]=e("div",{class:"viz-box"},[e("div",{class:"tableauPlaceholder",id:"viz1755451162005"},[e("noscript",null,[e("a",{href:"#"},[e("img",{alt:"房價視覺化匯集",src:"https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png",style:{border:"none"}})])]),e("object",{class:"tableauViz"},[e("param",{name:"host_url",value:"https%3A%2F%2Fpublic.tableau.com%2F"}),e("param",{name:"embed_code_version",value:"3"}),e("param",{name:"site_root",value:""}),e("param",{name:"name",value:"_17554288010490/sheet0"}),e("param",{name:"tabs",value:"no"}),e("param",{name:"toolbar",value:"yes"}),e("param",{name:"static_image",value:"https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png"}),e("param",{name:"animate_transition",value:"yes"}),e("param",{name:"display_static_image",value:"yes"}),e("param",{name:"display_spinner",value:"yes"}),e("param",{name:"display_overlay",value:"yes"}),e("param",{name:"display_count",value:"yes"}),e("param",{name:"language",value:"zh-TW"})])])],-1)),i(H,{showing:m.value},{default:q(()=>[i(x,{size:"42px"}),a[4]||(a[4]=e("div",{class:"q-mt-sm text-grey-5"},"載入互動視覺中",-1))]),_:1,__:[4]},8,["showing"])],2),i(W,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=c=>o.value=c)},null,8,["modelValue"])]),_:1}))}});export{ae as default};
