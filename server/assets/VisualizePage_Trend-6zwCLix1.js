import{defineComponent as A,ref as w,onMounted as U,onBeforeUnmount as W,resolveComponent as y,mergeProps as B,withCtx as z,createVNode as e,withDirectives as D,vShow as O,useSSRContext as H}from"vue";import{ssrRenderComponent as r,ssrRenderClass as M,ssrRenderStyle as N}from"vue/server-renderer";import{useMeta as G}from"quasar";import{D as F}from"./DataImputationHelp-ulCEoOEk.js";import"./vue-export-helper-DlAUqK2U.js";const S=A({__name:"VisualizePage_Trend",__ssrInlineRender:!0,setup(x){const s=w(!1),u=w(!0),t=w(!1),f=w(null);let g=null;const _=()=>m("viz1755451162005"),C=()=>{t.value=!!document.fullscreenElement,setTimeout(()=>m("viz1755451162005"),50)},T=l=>{l.key==="Escape"&&t.value&&d()};G({title:"台灣房價視覺化 | Tableau",meta:{description:{name:"description",content:"使用 Tableau 呈現台灣房價多維度視覺化。"},ogTitle:{property:"og:title",content:"台灣房價視覺化 | Tableau"}},link:{canonical:{rel:"canonical",href:"https://your-domain.example/visualize"}}});function m(l){const i=document.querySelector(`#${l} object.tableauViz`);i&&(i.removeAttribute("width"),i.removeAttribute("height"),i.style.width="100%",i.style.height="100%")}function L(l){const i=document.querySelector('script[src="https://public.tableau.com/javascripts/api/viz_v1.js"]'),h=document.getElementById(l);if(!h)return;const p=h.querySelector("object.tableauViz");if(!p)return;if(i){u.value=!1,m(l);return}const b=document.createElement("script");b.src="https://public.tableau.com/javascripts/api/viz_v1.js",b.onload=()=>{u.value=!1,m(l)},p.parentNode?.insertBefore(b,p)}async function E(){const l=f.value;if(l)try{await l.requestFullscreen(),t.value=!0,setTimeout(()=>m("viz1755451162005"),200)}catch{}}async function d(){try{document.fullscreenElement&&await document.exitFullscreen()}finally{t.value=!1,setTimeout(()=>m("viz1755451162005"),200)}}return U(()=>{L("viz1755451162005"),f.value&&(g=new ResizeObserver(()=>m("viz1755451162005")),g.observe(f.value)),window.addEventListener("orientationchange",_,{passive:!0}),document.addEventListener("fullscreenchange",C),window.addEventListener("keydown",T)}),W(()=>{g?.disconnect(),g=null,window.removeEventListener("orientationchange",_),document.removeEventListener("fullscreenchange",C),window.removeEventListener("keydown",T)}),(l,i,h,p)=>{const b=y("q-page"),j=y("q-icon"),c=y("q-btn"),k=y("q-inner-loading"),$=y("q-spinner");i(r(b,B({class:"q-pa-md tech-bg"},p),{default:z((J,n,v,a)=>{if(n)n(`<div class="row items-start items-md-center justify-between q-mb-md header-wrap"${a}><div class="col-12 col-md-auto q-mb-sm q-mb-md-none"${a}><div class="row items-center no-wrap"${a}>`),n(r(j,{name:"insights",size:"30px",class:"neon-icon q-mr-sm"},null,v,a)),n(`<div${a}><h1 class="q-mt-none q-mb-xs neon-title"${a}>不動產交易趨勢</h1><div class="caption text-grey-5 hide-xs"${a}>Taiwan Real Estate • Interactive Tableau</div></div></div></div><div class="col-12 col-md-auto row items-center q-gutter-sm btn-wrap"${a}>`),n(r(c,{dense:"",outline:"",color:"primary",icon:"help_outline",label:"補值與清理說明",class:"btn-glass col-12 col-sm-auto",onClick:o=>s.value=!0},null,v,a)),n(r(c,{dense:"",unelevated:"",color:"primary",icon:t.value?"fullscreen_exit":"fullscreen",label:t.value?"退出全螢幕":"全螢幕檢視",class:"btn-neon col-12 col-sm-auto",onClick:o=>t.value?d():E()},null,v,a)),n(`</div></div><div class="${M([["neo-card",{"is-full":t.value}],"q-pa-sm"])}"${a}><div class="neo-card__glow"${a}></div>`),n(r(c,{style:t.value?null:{display:"none"},round:"",dense:"",icon:"close",class:"fs-close",onClick:d,"aria-label":"關閉全螢幕"},null,v,a)),n(`<div class="viz-box"${a}><div class="tableauPlaceholder" id="viz1755451162005"${a}><noscript${a}><a href="#"${a}><img alt="房價視覺化匯集" src="https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png" style="${N({border:"none"})}"${a}></a></noscript><object class="tableauViz"${a}><param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F"${a}><param name="embed_code_version" value="3"${a}><param name="site_root" value=""${a}><param name="name" value="_17554288010490/sheet0"${a}><param name="tabs" value="no"${a}><param name="toolbar" value="yes"${a}><param name="static_image" value="https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png"${a}><param name="animate_transition" value="yes"${a}><param name="display_static_image" value="yes"${a}><param name="display_spinner" value="yes"${a}><param name="display_overlay" value="yes"${a}><param name="display_count" value="yes"${a}><param name="language" value="zh-TW"${a}></object></div></div>`),n(r(k,{showing:u.value},{default:z((o,q,P,V)=>{if(q)q(r($,{size:"42px"},null,P,V)),q(`<div class="q-mt-sm text-grey-5"${V}>載入互動視覺中</div>`);else return[e($,{size:"42px"}),e("div",{class:"q-mt-sm text-grey-5"},"載入互動視覺中")]}),_:1},v,a)),n("</div>"),n(r(F,{modelValue:s.value,"onUpdate:modelValue":o=>s.value=o},null,v,a));else return[e("div",{class:"row items-start items-md-center justify-between q-mb-md header-wrap"},[e("div",{class:"col-12 col-md-auto q-mb-sm q-mb-md-none"},[e("div",{class:"row items-center no-wrap"},[e(j,{name:"insights",size:"30px",class:"neon-icon q-mr-sm"}),e("div",null,[e("h1",{class:"q-mt-none q-mb-xs neon-title"},"不動產交易趨勢"),e("div",{class:"caption text-grey-5 hide-xs"},"Taiwan Real Estate • Interactive Tableau")])])]),e("div",{class:"col-12 col-md-auto row items-center q-gutter-sm btn-wrap"},[e(c,{dense:"",outline:"",color:"primary",icon:"help_outline",label:"補值與清理說明",class:"btn-glass col-12 col-sm-auto",onClick:o=>s.value=!0},null,8,["onClick"]),e(c,{dense:"",unelevated:"",color:"primary",icon:t.value?"fullscreen_exit":"fullscreen",label:t.value?"退出全螢幕":"全螢幕檢視",class:"btn-neon col-12 col-sm-auto",onClick:o=>t.value?d():E()},null,8,["icon","label","onClick"])])]),e("div",{ref_key:"vizWrap",ref:f,class:[["neo-card",{"is-full":t.value}],"q-pa-sm"]},[e("div",{class:"neo-card__glow"}),D(e(c,{round:"",dense:"",icon:"close",class:"fs-close",onClick:d,"aria-label":"關閉全螢幕"},null,512),[[O,t.value]]),e("div",{class:"viz-box"},[e("div",{class:"tableauPlaceholder",id:"viz1755451162005"},[e("noscript",null,[e("a",{href:"#"},[e("img",{alt:"房價視覺化匯集",src:"https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png",style:{border:"none"}})])]),e("object",{class:"tableauViz"},[e("param",{name:"host_url",value:"https%3A%2F%2Fpublic.tableau.com%2F"}),e("param",{name:"embed_code_version",value:"3"}),e("param",{name:"site_root",value:""}),e("param",{name:"name",value:"_17554288010490/sheet0"}),e("param",{name:"tabs",value:"no"}),e("param",{name:"toolbar",value:"yes"}),e("param",{name:"static_image",value:"https://public.tableau.com/static/images/_1/_17554288010490/sheet0/1.png"}),e("param",{name:"animate_transition",value:"yes"}),e("param",{name:"display_static_image",value:"yes"}),e("param",{name:"display_spinner",value:"yes"}),e("param",{name:"display_overlay",value:"yes"}),e("param",{name:"display_count",value:"yes"}),e("param",{name:"language",value:"zh-TW"})])])]),e(k,{showing:u.value},{default:z(()=>[e($,{size:"42px"}),e("div",{class:"q-mt-sm text-grey-5"},"載入互動視覺中")]),_:1},8,["showing"])],2),e(F,{modelValue:s.value,"onUpdate:modelValue":o=>s.value=o},null,8,["modelValue","onUpdate:modelValue"])]}),_:1},h))}}}),R=S.setup;S.setup=(x,s)=>{const u=H();return(u.modules||(u.modules=new Set)).add("src/pages/VisualizePage_Trend.vue"),R?R(x,s):void 0};export{S as default};
