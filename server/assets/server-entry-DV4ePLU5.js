import{defineComponent as v,resolveComponent as P,useSSRContext as A,onMounted as T,getCurrentInstance as I,h as g,markRaw as b,createApp as H,unref as E}from"vue";import{Quasar as U,Meta as q}from"quasar";import{ssrRenderComponent as L}from"vue/server-renderer";import{createPinia as M}from"pinia";import{createRouter as F,createMemoryHistory as N}from"vue-router";const f=v({__name:"App",__ssrInlineRender:!0,setup(t){return(e,r,n,o)=>{const s=P("router-view");r(L(s,o,null,n))}}}),w=f.setup;f.setup=(t,e)=>{const r=A();return(r.modules||(r.modules=new Set)).add("src/App.vue"),w?w(t,e):void 0};const h=t=>t,j=h,O=h,Q=h,l=Q(()=>M()),W=[{path:"/",component:()=>import("./MainLayout-BllPlT_n.js"),children:[{path:"",component:()=>import("./IndexPage-Bjmbyi6T.js")},{path:"visualizeTrend",component:()=>import("./VisualizePage_Trend-6zwCLix1.js")}]},{path:"/:catchAll(.*)*",component:()=>import("./ErrorNotFound-dp36zpSu.js")}],d=O(function(){return F({scrollBehavior:()=>({left:0,top:0}),routes:W,history:N("/TW_HousePrice_Frontend/")})}),B=v({name:"AppWrapper",setup(t){return T(()=>{const{proxy:{$q:e}}=I();e.onSSRHydrated!==void 0&&e.onSSRHydrated()}),()=>g(f,t)}});async function C(t,e,r){const n=t(B);n.use(U,e,r);const o=typeof l=="function"?await l({ssrContext:r}):l;n.use(o),typeof window<"u"&&window.__INITIAL_STATE__!==void 0&&(o.state.value=window.__INITIAL_STATE__,delete window.__INITIAL_STATE__);const s=b(typeof d=="function"?await d({ssrContext:r,store:o}):d);return o.use(({store:u})=>{u.router=s}),{app:n,store:o,router:s}}const $={config:{},plugins:{Meta:q}},m="/TW_HousePrice_Frontend/",k=/\/\//,z=t=>(m+t).replace(k,"/"),D=/^https?:\/\//;function G(t,e){if(typeof t=="string"&&D.test(t)===!0)return t;try{return e.resolve(t).href}catch{}return t}function y(t){const e=t.url||t.req.url;try{const r=new URL(e);return r.pathname+r.search+r.hash}catch{return e}}const{components:x,directives:tt,...J}=$;let i=null,R=Promise.allSettled([import("./i18n-DHZkZqO9.js"),import("./axios-CeAlmGhK.js")]).then(t=>t.map(e=>{if(e.status==="rejected"){console.error("[Quasar] boot error:",e.reason);return}return e.value.default})).then(t=>t.filter(e=>typeof e=="function"));const et=t=>new Promise(async(e,r)=>{i===null&&(i=await R,R=null);const{app:n,router:o,store:s}=await C(H,J,t);let u=!1;const S=(c,a)=>{u=!0,r({url:G(c,o),code:a})};for(let c=0;u===!1&&c<i.length;c++)try{await i[c]({app:n,router:o,store:s,ssrContext:t,redirect:S,urlPath:y(t),publicPath:m})}catch(a){r(a);return}if(u===!0)return;n.use(o);const p=y(t).replace(m,"/"),{fullPath:_}=o.resolve(p);if(_!==p)return r({url:z(_)});o.push(p).catch(()=>{}),o.isReady().then(()=>{if(o.currentRoute.value.matched.filter(a=>a.components!==void 0).flatMap(a=>Object.values(a.components)).length===0)return r({code:404});t.state=E(s.state),e(n)}).catch(r)});export{j as d,et as s};
